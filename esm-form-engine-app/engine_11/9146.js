"use strict";(globalThis.webpackChunk_openmrs_esm_form_engine_app=globalThis.webpackChunk_openmrs_esm_form_engine_app||[]).push([[6765,9146],{99146:(e,t,r)=>{r.r(t),r.d(t,{default:()=>z,infinite:()=>k,unstable_serialize:()=>m});var a=r(77867),n=r(70764),l=r(51913),s=r(87203),i=r(584),o=r(69529);const c=()=>{},u=c(),f=Object,p=e=>e===u,_=new WeakMap,g=(e,t)=>f.prototype.toString.call(e)===`[object ${t}]`;let d=0;const y=e=>{const t=typeof e,r=g(e,"Date"),a=g(e,"RegExp"),n=g(e,"Object");let l,s;if(f(e)!==e||r||a)l=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(l=_.get(e),l)return l;if(l=++d+"~",_.set(e,l),Array.isArray(e)){for(l="@",s=0;s<e.length;s++)l+=y(e[s])+",";_.set(e,l)}if(n){l="#";const t=f.keys(e).sort();for(;!p(s=t.pop());)p(e[s])||(l+=s+":"+y(e[s])+",");_.set(e,l)}}return l},b=e=>(e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?y(e):"",t]})(e?e(0,null):null)[0],m=e=>s.q+b(e),h=Promise.resolve(),k=e=>(t,r,n)=>{const i=(0,a.useRef)(!1),{cache:c,initialSize:u=1,revalidateAll:f=!1,persistSize:p=!1,revalidateFirstPage:_=!0,revalidateOnMount:g=!1,parallel:d=!1}=n,[,,,y]=l.b.get(l.c);let m;try{m=b(t),m&&(m=s.q+m)}catch(e){}const[k,z,v]=(0,l.z)(c,m),S=(0,a.useCallback)((()=>(0,l.e)(k()._l)?u:k()._l),[c,m,u]);(0,o.useSyncExternalStore)((0,a.useCallback)((e=>m?v(m,(()=>{e()})):()=>{}),[c,m]),S,S);const w=(0,a.useCallback)((()=>{const e=k()._l;return(0,l.e)(e)?u:e}),[m,u]),C=(0,a.useRef)(w());(0,l.u)((()=>{i.current?m&&z({_l:p?C.current:w()}):i.current=!0}),[m,c]);const A=g&&!i.current,O=e(m,(async e=>{const a=k()._i,s=k()._r;z({_r:l.U});const i=[],o=w(),[u]=(0,l.z)(c,e),p=u().data,g=[];let b=null;for(let e=0;e<o;++e){const[o,u]=(0,l.s)(t(e,d?null:b));if(!o)break;const[m,h]=(0,l.z)(c,o);let k=m().data;const z=f||a||(0,l.e)(k)||_&&!e&&!(0,l.e)(p)||A||p&&!(0,l.e)(p[e])&&!n.compare(p[e],k);if(r&&("function"==typeof s?s(k,u):z)){const t=async()=>{if(o in y){const e=y[o];delete y[o],k=await e}else k=await r(u);h({data:k,_k:u}),i[e]=k};d?g.push(t):await t()}else i[e]=k;d||(b=k)}return d&&await Promise.all(g.map((e=>e()))),z({_i:l.U}),i}),n),j=(0,a.useCallback)((function(e,t){const r="boolean"==typeof t?{revalidate:t}:t||{},a=!1!==r.revalidate;return m?(a&&((0,l.e)(e)?z({_i:!0,_r:r.revalidate}):z({_i:!1,_r:r.revalidate})),arguments.length?O.mutate(e,{...r,revalidate:a}):O.mutate()):h}),[m,c]),P=(0,a.useCallback)((e=>{if(!m)return h;const[,r]=(0,l.z)(c,m);let a;if((0,l.a)(e)?a=e(w()):"number"==typeof e&&(a=e),"number"!=typeof a)return h;r({_l:a}),C.current=a;const n=[],[s]=(0,l.z)(c,m);let i=null;for(let e=0;e<a;++e){const[r]=(0,l.s)(t(e,i)),[a]=(0,l.z)(c,r),o=r?a().data:l.U;if((0,l.e)(o))return j(s().data);n.push(o),i=o}return j(n)}),[m,c,j,w]);return{size:w(),setSize:P,mutate:j,get data(){return O.data},get error(){return O.error},get isValidating(){return O.isValidating},get isLoading(){return O.isLoading}}},z=(0,i.Ht)(n.Ay,k)}}]);